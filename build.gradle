plugins {
    id 'de.interactive_instruments.xtraplatform-feature' version '2.4.0'
    id 'com.jfrog.bintray' version '1.8.4' apply false
    id 'com.github.hierynomus.license-report' version '0.15.0' apply false
}

allprojects {
    group = 'de.interactive_instruments'
}

version = '2.4.1'

dependencies {
    
    feature group: 'de.interactive_instruments', name: 'xtraplatform-base', version: '2.4.0'
    feature group: 'de.interactive_instruments', name: 'xtraplatform-store', version: '2.4.0'
    feature group: 'de.interactive_instruments', name: 'xtraplatform-web', version: '2.4.1'

    bundle subprojects
}

subprojects {
    repositories {
        maven {
            url "https://repo.osgeo.org/repository/release"
        }
        maven {
            url "https://maven.ecc.no/releases"
        }
    }
}

apply from: 'immutables.gradle'

apply from: 'bintray.gradle'

apply from: 'unit-tests.gradle'

//apply from: 'integration-tests.gradle'

apply from: 'license-headers.gradle'

apply from: 'license-report.gradle'

task checkAll { dependsOn subprojects*.tasks*.findByPath('check') }
task assembleAll { dependsOn subprojects*.tasks*.findByPath('assemble') }
task bintrayUploadAll { dependsOn allprojects*.tasks*.findByPath('bintrayUpload') }
task publishAll { dependsOn allprojects*.tasks*.findByPath('publish') }
task publishToMavenLocalAll { dependsOn allprojects*.tasks*.findByPath('publishToMavenLocal') }
